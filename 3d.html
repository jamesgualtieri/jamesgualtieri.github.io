<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>FUCK</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>

		<div id="container"></div>
		<script src="http://www.threejs.org/build/three.js"></script>
		<script src="http://www.threejs.org/examples/js/loaders/ColladaLoader.js"></script>
		<script src="http://www.threejs.org/examples/js/controls/OrbitControls.js"></script>
		<script src="http://www.threejs.org/examples/js/Detector.js"></script>
		<script src="http://www.threejs.org/examples/js/libs/stats.min.js"></script>
		<!-- <script src="js/box.js"></script> -->
		<script>

			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
			var container, stats, clock;
			var camera, scene, renderer, elf;
			init();
			animate();
			function init() {
				container = document.getElementById( 'container' );
				camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 2000 );
				camera.position.set( 8, 10, 8 );
				camera.lookAt( new THREE.Vector3( 0, 0, 0 ) );
				scene = new THREE.Scene();
				clock = new THREE.Clock();
				// loading manager
				var loadingManager = new THREE.LoadingManager( function() {
					scene.add( elf );
				} );
				// collada
				var loader = new THREE.ColladaLoader( loadingManager );
				loader.load( './media/hand_und_apple.dae', function ( collada ) {
					elf = collada.scene;

					console.log(elf);
				} );
				//
				var ambientLight = new THREE.AmbientLight( 0xcccccc, 0.4 );
				scene.add( ambientLight );
				var directionalLight = new THREE.DirectionalLight( 0xffffff, 0.8 );
				directionalLight.position.set( 1, 1, 0 ).normalize();
				scene.add( directionalLight );
				//
				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				container.appendChild( renderer.domElement );
				//
				//
				window.addEventListener( 'resize', onWindowResize, false );
			}
			function onWindowResize() {
				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();
				renderer.setSize( window.innerWidth, window.innerHeight );
			}
			function animate() {
				requestAnimationFrame( animate );
				render();
			}
			function render() {
				var delta = clock.getDelta();
				if ( elf !== undefined ) {
					elf.children[0].material.shininess = 100;
					elf.children[0].material.castShadow = true;
					elf.castShadow = true;
					elf.children[0].material.receiveShadow = true;
					elf.receiveShadow = true;
					console.log(elf);
				}
				renderer.render( scene, camera );
			}

		</script>
		<div><canvas width="692" height="1388" style="width: 346px; height: 694px;"></canvas><div style="position: fixed; top: 0px; left: 0px; cursor: pointer; opacity: 0.9; z-index: 10000;"><canvas width="160" height="96" style="width: 80px; height: 48px; display: block;"></canvas><canvas width="160" height="96" style="width: 80px; height: 48px; display: none;"></canvas><canvas width="160" height="96" style="width: 80px; height: 48px; display: none;"></canvas></div></div>
	</body>
</html>